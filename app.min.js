const main_canvas=document.getElementById("mainCanvas"),ctx=main_canvas.getContext("2d"),square=(main_canvas.width=Math.floor(window.innerWidth),main_canvas.height=Math.floor(window.innerHeight)-100,start_time=Date.now(),{start_x:0,start_y:0,top_side_x1:-1,top_side_y1:-1,top_side_x2:-1,top_side_y2:-1,top_side_colour:"rgb(174, 198, 229)",right_side_x1:-1,right_side_y1:-1,right_side_x2:-1,right_side_y2:-1,right_side_colour:"rgb(205, 198, 224)",bottom_side_x1:-1,bottom_side_y1:-1,bottom_side_x2:-1,bottom_side_y2:-1,bottom_side_colour:"rgb(245, 198, 205)",left_side_x1:-1,left_side_y1:-1,left_side_x2:-1,left_side_y2:-1,left_side_colour:"rgb(167, 221, 221)",text_colour:"rgb(241, 186, 141)",background_colour:"rgb(255, 255, 255)",circle_colour:"rgb(174, 198, 229)",direction:-1,run_counter:0,current_x:0,current_y:0,max_size:-1,increment_size:0,increments:0,draw:function(){switch(ctx.font="30px Arial",ctx.fillStyle=this.text_colour,ctx.textAlign="center",square.direction){case 0:ctx.fillText("breath in slowly",main_canvas.width/2,main_canvas.height/2);break;case 1:ctx.fillText("hold it in",main_canvas.width/2,main_canvas.height/2);break;case 2:ctx.fillText("breath out slowly",main_canvas.width/2,main_canvas.height/2);break;case 3:ctx.fillText("pause",main_canvas.width/2,main_canvas.height/2);break;default:ctx.fillText("Get Ready...",main_canvas.width/2,main_canvas.height/2)}-1==this.direction&&(ctx.beginPath(),ctx.strokeStyle=this.background_colour,ctx.lineWidth=3,ctx.moveTo(0,5),ctx.lineTo(this.increments,5),ctx.stroke(),ctx.closePath()),0<=this.direction&&(ctx.beginPath(),ctx.arc(this.current_x,this.current_y,20,0,2*Math.PI,!1),ctx.fillStyle=this.circle_colour,ctx.fill(),ctx.lineWidth=1,ctx.strokeStyle=this.circle_colour,ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.strokeStyle=this.top_side_colour,ctx.lineWidth=3,ctx.moveTo(this.top_side_x1,this.top_side_y1),ctx.lineTo(this.top_side_x2,this.top_side_y2),ctx.stroke(),ctx.closePath()),1<=this.direction&&(ctx.beginPath(),ctx.strokeStyle=this.right_side_colour,ctx.lineWidth=3,ctx.moveTo(this.right_side_x1,this.right_side_y1),ctx.lineTo(this.right_side_x2,this.right_side_y2),ctx.stroke(),ctx.closePath()),2<=this.direction&&(ctx.beginPath(),ctx.strokeStyle=this.bottom_side_colour,ctx.lineWidth=3,ctx.moveTo(this.bottom_side_x1,this.bottom_side_y1),ctx.lineTo(this.bottom_side_x2,this.bottom_side_y2),ctx.stroke(),ctx.closePath()),3<=this.direction&&(ctx.beginPath(),ctx.strokeStyle=this.left_side_colour,ctx.lineWidth=3,ctx.moveTo(this.left_side_x1,this.left_side_y1),ctx.lineTo(this.left_side_x2,this.left_side_y2),ctx.stroke(),ctx.closePath())},update:function(){var t;-1==this.direction?(t=Date.now()-start_time,this.increments=this.increments+1,1e3<=t&&(this.increments=4*this.increments,main_canvas.width>main_canvas.height?this.increment_size=(main_canvas.height-100)/this.increments:this.increment_size=(main_canvas.width-100)/this.increments,this.increment_size=Math.floor(10*this.increment_size)/10,this.direction=0,this.max_size=Math.ceil(this.increments*this.increment_size),this.start_x=Math.floor((main_canvas.width-this.max_size)/2),this.start_y=Math.floor((main_canvas.height-this.max_size)/2),this.current_x=this.start_x,this.current_y=this.start_y,this.top_side_x1=this.start_x,this.top_side_y1=this.start_y,this.top_side_x2=this.start_x,this.top_side_y2=this.start_y,this.circle_colour=this.top_side_colour,this.text_colour=this.top_side_colour,start_time=Date.now())):0==this.direction?(this.current_x=this.current_x+this.increment_size,this.top_side_x2=this.current_x,4e3<=(t=Date.now()-start_time)&&(this.max_size=this.current_x-this.start_x,this.right_side_x1=this.current_x,this.right_side_x2=this.current_x,this.right_side_y1=this.start_y,this.right_side_y2=this.start_y,this.circle_colour=this.right_side_colour,this.text_colour=this.right_side_colour,this.direction+=1)):1==this.direction?(t=this.max_size+this.start_y,this.current_y=this.current_y+this.increment_size,this.right_side_y2=this.current_y,this.current_y>=t&&(this.bottom_side_x1=this.current_x,this.bottom_side_x2=this.current_x,this.bottom_side_y1=this.current_y,this.bottom_side_y2=this.current_y,this.circle_colour=this.bottom_side_colour,this.text_colour=this.bottom_side_colour,this.direction++)):2==this.direction?(this.current_x=this.current_x-this.increment_size,this.bottom_side_x2=this.current_x,this.current_x<=this.start_x&&(this.left_side_x1=this.start_x,this.left_side_x2=this.start_x,this.left_side_y1=this.current_y,this.left_side_y2=this.current_y,this.circle_colour=this.left_side_colour,this.text_colour=this.left_side_colour,this.direction++)):(this.current_y=this.current_y-this.increment_size,this.left_side_y2=this.current_y,this.current_y<=this.start_y&&(this.top_side_x1=this.start_x,this.top_side_x2=this.start_x,this.top_side_y1=this.start_y,this.top_side_y2=this.start_y,this.circle_colour=this.top_side_colour,this.text_colour=this.top_side_colour,this.direction=0,start_time=Date.now()))}});function main(){ctx.clearRect(0,0,main_canvas.width,main_canvas.height),square.update(),square.draw(),requestAnimationFrame(main)}requestAnimationFrame(main);